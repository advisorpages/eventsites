<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/eventsites/assets/style.css" />
</head>
<body class="bg-white text-gray-800 font-sans leading-relaxed">
  <main class="max-w-3xl mx-auto p-6 space-y-6">

    <!-- Hero -->
    <div class="text-4xl font-bold text-center text-blue-900">
      {{ hero_heading or title }}
    </div>

    <div class="text-xl text-center text-gray-700">
      {{ subheading }}
    </div>

    <!-- Event Description -->
    <div class="text-base text-gray-800">
      {{ body | safe }}
    </div>

    <!-- Features -->
    {% if features %}
    <div class="bg-gray-100 rounded p-4 shadow-md">
      <ul class="list-disc pl-5 space-y-2">
        {% for feature in features %}
          <li><span class="text-green-600">✔</span> {{ feature }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    <!-- Guest Speaker -->
    {% if guest_name %}
    <div class="border-t pt-6">
      <h2 class="text-2xl font-semibold text-blue-800">🎤 Guest Speaker</h2>
      <p class="mt-2 font-bold">{{ guest_name }}</p>
      <p class="text-sm text-gray-600 italic">{{ guest_title }}</p>
      {% if guest_photo %}
        <img src="{{ guest_photo }}" alt="{{ guest_name }}" class="mt-4 rounded shadow w-32 h-32 object-cover" />
      {% endif %}
      <p class="mt-3">{{ guest_bio }}</p>
    </div>
    {% endif %}

    <!-- Agenda Segments -->
    {% if segments %}
    <div class="border-t pt-6">
      <h2 class="text-2xl font-semibold text-blue-800 mb-2">🗓️ Agenda</h2>
      <ul class="space-y-2">
        {% for seg in segments %}
        <li class="bg-blue-50 p-3 rounded shadow-sm">
          <div class="font-semibold text-blue-900">{{ seg.title }}</div>
          <div class="text-sm text-gray-600">{{ seg.trainer_name }} · {{ seg.duration_minutes }} min</div>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    <!-- CTA -->
    <div class="text-center mt-6">
      <a href="#register" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded shadow-md transition">
        {{ cta or "Register Now" }}
      </a>
    </div>

    <!-- Registration Form -->
    <div id="register" class="border-t pt-6">
      <h2 class="text-2xl font-semibold text-blue-800 mb-2">📝 Secure Your Spot</h2>

      <!-- Embedded Typeform or webhook form -->
      {% if registration_iframe %}
        <div class="aspect-w-16 aspect-h-9">
          <iframe src="{{ registration_iframe }}" frameborder="0" class="w-full h-[480px]" allowfullscreen></iframe>
        </div>
      {% else %}
        <form action="{{ webhook_url or '#' }}" method="POST" class="space-y-4">
          <input name="name" required placeholder="Full Name" class="w-full p-3 border rounded" />
          <input name="email" type="email" required placeholder="Email Address" class="w-full p-3 border rounded" />
          <button type="submit" class="bg-blue-600 text-white py-2 px-5 rounded shadow hover:bg-blue-700">Register</button>
        </form>
      {% endif %}
    </div>

  </main>
</body>
</html>
